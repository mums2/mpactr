<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Filter Ions by Group — filter_group • mpactr</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Filter Ions by Group — filter_group"><meta name="description" content="Filter Ions by Group"><meta property="og:description" content="Filter Ions by Group"><meta property="og:image" content="https://www.mums2.org/mpactr/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">mpactr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/mpactr.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/downstream_analyses.html">Downstream Analyses</a></li>
    <li><a class="dropdown-item" href="../articles/reference_semantics.html">Reference Semantics</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/mums2/mpactr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Filter Ions by Group</h1>
      <small class="dont-index">Source: <a href="https://github.com/mums2/mpactr/blob/0.2.1/R/filters.R" class="external-link"><code>R/filters.R</code></a></small>
      <div class="d-none name"><code>filter_group.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Filter Ions by Group</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">filter_group</span><span class="op">(</span></span>
<span>  <span class="va">mpactr_object</span>,</span>
<span>  group_threshold <span class="op">=</span> <span class="fl">0.01</span>,</span>
<span>  <span class="va">group_to_remove</span>,</span>
<span>  remove_ions <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  copy_object <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-mpactr-object">mpactr_object<a class="anchor" aria-label="anchor" href="#arg-mpactr-object"></a></dt>
<dd><p>An <code>mpactr_object</code>. See <code><a href="import_data.html">import_data()</a></code>.</p></dd>


<dt id="arg-group-threshold">group_threshold<a class="anchor" aria-label="anchor" href="#arg-group-threshold"></a></dt>
<dd><p>Relative abundance threshold at which to remove ions.
Default = 0.01.</p></dd>


<dt id="arg-group-to-remove">group_to_remove<a class="anchor" aria-label="anchor" href="#arg-group-to-remove"></a></dt>
<dd><p>Biological group name to remove ions from.</p></dd>


<dt id="arg-remove-ions">remove_ions<a class="anchor" aria-label="anchor" href="#arg-remove-ions"></a></dt>
<dd><p>A <code>boolean</code> parameter. If <code>TRUE</code> failing ions will be
removed from the peak table. Default = TRUE.</p></dd>


<dt id="arg-copy-object">copy_object<a class="anchor" aria-label="anchor" href="#arg-copy-object"></a></dt>
<dd><p>A <code>boolean</code> parameter that allows users to return a copied
object instead of modifying the object.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>an <code>mpactr_object</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p><code>filter_group()</code> removes feature ions that are present in a user-defined
group based on a relative abundance threshold. This could be particularly
useful to filter out features found present in solvent blank samples.
Further, this filter can be ultilized to remove features in media blank
sample for experiments on microbial cultures.
The presence or absence of features in a group of samples is determined by
first averaging injection replicates and then averaging biological
replicates within each biological treatment group. A feature is present in
a group if its abundance is greater than the user-defined <code>group_threshold</code>.
The default is 0.01, meaning a feature is removed if its abundance is 1% of
that in the sample group in which it is most abundant. For example, blank
filtering can remove features whose mean abundance in solvent blank
injections is greater than 1% of their maximum mean abundance in experimental
samples.</p>
<p>If you would like to remove features found in media blank
samples, we recommend testing the <code>group_threshold</code> parameter.</p>
<p><code>copy_object</code>: mpactr is built on an R6 class-system, meaning it operates on
reference semantics in which data is updated <em>in-place</em>. Compared to a
shallow copy, where only data pointers are copied, or a deep copy, where
the entire data object is copied in memory, any changes to the original
data object, regardless if they are assigned to a new object, result in
changes to the original data object. We recommend using the default
<code>copy_object = FALSE</code> as this makes for an extremely fast and
memory-efficient way to chain mpactr filters together; however, if you
would like to run the filters individually with traditional R style objects,
you can set <code>copy_object</code> to <code>TRUE</code> as shown in the filter examples.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="import_data.html">import_data</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="example_path.html">example_path</a></span><span class="op">(</span><span class="st">"coculture_peak_table.csv"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  <span class="fu"><a href="example_path.html">example_path</a></span><span class="op">(</span><span class="st">"metadata.csv"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  format <span class="op">=</span> <span class="st">"Progenesis"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">data_filter</span> <span class="op">&lt;-</span> <span class="fu">filter_group</span><span class="op">(</span><span class="va">data</span>,</span></span>
<span class="r-in"><span>  group_threshold <span class="op">=</span> <span class="fl">0.01</span>,</span></span>
<span class="r-in"><span>  group_to_remove <span class="op">=</span> <span class="st">"Blanks"</span>,</span></span>
<span class="r-in"><span>  remove_ions <span class="op">=</span> <span class="cn">TRUE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> Parsing 1303 peaks based on the sample group: Blanks.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> Argument remove_ions is: TRUE.Removing peaks from Blanks.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> 796 ions failed the Blanks filter, 507 ions remain.</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Allison Mason, Gregory Johnson, Patrick Schloss.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

